<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!--Bootstrap css-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">

    <!--bootstrap js-->
    <script src="http://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous" defer></script>
    <!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.9/jquery-ui.js" defer></script> -->

        <link rel="stylesheet" href="/static/home.css">
        <link rel="stylesheet" href="/static/homemodal.css">
        <title><%= locals.title ? title:'Mahesh Stores' %></title>
    
    </head>
    <body style="height:1000px">
        <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-dark">
            <div class="container">
                <span class="navbar-brand h1">Mahesh Stores</span>
                <button 
                class="navbar-toggler"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-controls="#navbarNav"
                aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mr-auto">  
                        <li class="nav-item active">
                            <a href="#" class="nav-link active">Home</a>
                        </li>
                        <li class="nav-item active">
                            <a href="#" class="nav-link">About Us</a>
                        </li>
                        <li class="nav-item active">
                            <a href="#" class="nav-link">FAQ</a>
                        </li>
                        <li class="nav-item active">
                            <a href="#" class="nav-link">Contact Us</a>
                        </li>  
                    </ul>
                    <ul class="nav navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/login">
                                <span class="glyphicon glyphicon-log-in">Admin</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>        
        </nav>     <!-- End of Nav bar-->

        <header class="page-header big-banner">
            <div class="container  pt-5">
                <div class="row align-items-center justify-content-center">
                    <div class="col-md-6">
                        <h1 style="text-align: center;">Check Availability</h1>
                    </div>

                    <div class="col-md-6">
                        <form action="/home/api" method="get">
                            <div class="container availbox contactform" style=" min-width: 350px; max-width: 500px;">

                                <div class="area1 arrow" data-bs-toggle="modal" data-bs-target="#categoryComp">
                                    <label for="catname"><span>Category of Component</span></label>
                                    <input type="text" autocomplete="off" id="catname" name="catname" value="" maxlength="15">

                                </div>
                                <div class="area2" style="overflow: hidden; word-wrap: break-word;">
                                    <form class=" form-row form-group align-items-center" style="display: inline-block;margin: 0 auto;" >
                                        <div class="f1">
                                            <div class="lft">
                                                 <div class="form-row form-group align-items-center " >  
                                                    <label for="date" class="col-sm-11 col-form-label"></label>
                                                    <div class="form-group col-sm-12">   
                                                        <div class="input-group date" id="datepicker1">
                                                            <input  type="text" autocomplete="off" class="form-control" placeholder="Start Date" name="startdate">
                                                            <span class="input-group-append">
                                                                <span class="input-group-text bg-white d-block">
                                                                    <i class="fa fa-calendar"></i>
                                                                </span>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="fr linelft">
                                            <div class="lft">
                                                <label for="date" class="col-sm-11 col-form-label"></label>
                                                <div class="form-group col-sm-12">
                                                    <div class="input-group date" id="datepicker2">
                                                        <input type="text" autocomplete="off" class="form-control" placeholder="End Date" name="enddate" id="date"/>
                                                        <span class="input-group-append">
                                                            <span class="input-group-text bg-light d-block">
                                                                <i class="fa fa-calendar"></i>
                                                            </span>
                                                        </span>
                                                    </div>
                                                </div>  
                                            </div>
                                        </div>

                                    </form>
                                </div>

                                <div class="area3">
                                    <div class="col-md-12 col-12 col-sm-12" style="margin: 0px; border: 0px none; text-align: center; padding: 0px;">
                                        <div></div>
                                        <button type="submit" class="btn btn-success btn-block pad" id="submitbtn">
                                        Submit</button>
                                    </div>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </header>

        <!--Modal design-->
        <div class="modal fade" id="categoryComp" tabindex="-1" aria-labelledby="modal-title" aria-hidden="true">
            <form method="post" id="category_form">
                <div class="modal-dialog justify-content-center">
                    <div class="modal-content" style="min-height: 500px;">
                        <div class="modal-header" style="background-color: #aaa;color: white;">
                            <h3 class="modal-title">Select category</h3>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>

                        <div class="modal-body row" id="catselect">
                            <% catageories.forEach(catageory=>{ %>
                                <div class="box btn " role="button" aria-pressed="false" tabindex="1" id="Embeded" style="background-color:#aaa; border: dotted black 1px;">
                                    <h2><%= catageory %></h2>                                    
                                </div>
                            <% }) %>
                        </div>
                    </div>
                </div>
            </form>
        </div>    <!--End of modal-->

        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>  <!--don't remove this-->

        <!--Js script for dactpicker-->       
        <script type="text/javascript">
            $(function(){
                var date = new Date();
                date.setDate(date.getDate());     // to set start date in calender to current date
                $('#datepicker1').datepicker({
                        autoclose: true,
                        format: 'dd/mm/yyyy',
                        startDate: date   // to set start date in calender to current date
                    }).on('changeDate', function (selected) {
                        var minDate = new Date(selected.date);
                        minDate.setDate(minDate.getDate() + 1);
                        $('#datepicker2').datepicker('setStartDate', minDate);
                        var maxDate = new Date(selected.date);
                        maxDate.setDate(maxDate.getDate()+30)
                        $('#datepicker2').datepicker('setEndDate', maxDate);    
                    });
            })
            $(function(){
                $('#datepicker2').datepicker({
                        autoclose: true,
                        format: 'dd/mm/yyyy'
                }).on('changeDate', function (selected) {
                        var minDate = new Date(selected.date);
                        minDate.setDate(minDate.getDate() - 1);
                        $('#datepicker1').datepicker('setEndDate', minDate);
                });
                
            })
        </script>

        <!--Js script for modal-->

        <script type="text/javascript">
            $(document).ready(function(){
                $('#categoryComp').on('click','.box', function (e) {
                    //Extract the text of the clicked element
                    var option_text = $(this).children('h2').text();
                    //Set the text and value of option 
                    $('#catname').text(option_text).val(option_text);
                    //close modal
                    $('#categoryComp').modal('hide');
                });
                
            })
        </script>

    </body>

</html>